<!DOCTYPE html-->
<html>
<head>
<title>GoGreen</title>
<link rel="stylesheet" type="text/css" media="all" href="style.css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <script src="js/jquery.js"></script>
    <script type="text/javascript" src="js/slides.jquery.js"></script>
    <script type="text/javascript" src="http://www.google.com/jsapi"></script>
    <script type="text/javascript">
      google.load('visualization', '1', {packages: ["corechart"]});
    </script>
    <script type="text/javascript">
    
    	// Draws the column chart

      function drawKalorierPersoner() {
        var wrapper = new google.visualization.ChartWrapper({
			//dataSourceUrl: 'https://docs.google.com/spreadsheet/tq?key=0Av66tTSXdeeVdFBJNGhRRmFHYkRmcmdpdERFbG1DbWc&gid=5&range=A18%3AC19&headers=-1', //kalorier
			dataSourceUrl: 'https://docs.google.com/spreadsheet/tq?key=0Av66tTSXdeeVdFBJNGhRRmFHYkRmcmdpdERFbG1DbWc&gid=5&range=A27%3AC29&headers=-1',
          chartType: 'ColumnChart',
          options:{
          	title : 'Personer & kalorier',
			backgroundColor: { fill:'transparent' },
          	animation:{
          		duration: 300,
          		easing: 'in'
          	},
		legend:{
			position: 'bottom'
		},
		width: 1200,
		height: 750
          },
          containerId: 'visualization_kalorier_personer'
        });
        wrapper.setRefreshInterval(1);
        wrapper.draw();
      }
  	  google.setOnLoadCallback(drawKalorierPersoner);
    
      function drawAntallKalorier() {
        var wrapper = new google.visualization.ChartWrapper({
			//dataSourceUrl: 'https://docs.google.com/spreadsheet/tq?key=0Av66tTSXdeeVdFBJNGhRRmFHYkRmcmdpdERFbG1DbWc&gid=5&range=A18%3AC19&headers=-1', //kalorier
			dataSourceUrl: 'https://docs.google.com/spreadsheet/tq?key=0Av66tTSXdeeVdFBJNGhRRmFHYkRmcmdpdERFbG1DbWc&gid=5&range=A22%3AB24&headers=-1',
          chartType: 'ColumnChart',
          options:{
          	title : 'Kalorier brent',
			backgroundColor: { fill:'transparent' },
          	animation:{
          		duration: 300,
          		easing: 'in'
          	},
		legend:{
			position: 'bottom'
		},
		width: 1200,
		height: 750
          },
          containerId: 'visualization_kalorier'
        });
        wrapper.setRefreshInterval(1);
        wrapper.draw();
      }
  	  google.setOnLoadCallback(drawAntallKalorier);


      function drawAntallPersoner() {
        var wrapper = new google.visualization.ChartWrapper({
          dataSourceUrl: 'https://docs.google.com/spreadsheet/tq?range=summary!A1%3AA2%2Csummary!C1%3AD2&key=0Av66tTSXdeeVdFBJNGhRRmFHYkRmcmdpdERFbG1DbWc&gid=5&headers=-1', //antall personer
          chartType: 'ColumnChart',
          options:{
          	title : 'Antall personer',
			backgroundColor: { fill:'transparent' },
          	animation:{
          		duration: 300,
          		easing: 'in'
          	},
		legend:{
			position: 'right'
		},
		width: 1200,
		height: 750
          },
		chartArea:{left:0,top:0,width:"100%",height:"100%"},
          containerId: 'visualization_personer'
        });
        wrapper.setRefreshInterval(1);
        wrapper.draw();
      }
  	  google.setOnLoadCallback(drawAntallPersoner);
 
      
      function realtimeNumber() {
        var query = new google.visualization.Query(
            'https://docs.google.com/spreadsheet/tq?key=0Av66tTSXdeeVdFBJNGhRRmFHYkRmcmdpdERFbG1DbWc&gid=5&range=A1%3AG9&headers=1');
        query.setRefreshInterval(1);
        query.send(handleQueryResponse);
      }
      
      	// Handles the query, sends to #counter
      
      function handleQueryResponse(response) {
        if (response.isError()) {
          alert('Error in query: ' + response.getMessage() + ' ' + response.getDetailedMessage());
          return;
        }
      
        var data = response.getDataTable();
		$("#counter_day").html(data.getValue(0,1));
		$("#counter_month").html(data.getValue(0,3));
		$("#counter_total").html(data.getValue(0,6));
      }
      
      
      realtimeNumber();
	  

    </script>
    <script>
 
  $(function(){
                $("#slideshow").slides(
					{
						play:10000,
						pagination : false,
						generatePagination: false,
						hoverPause: true
					}
				);
            });
	</script>
</head>
<body>


<div id="left">
	<div id="top">
		<div id="slideshow">
			<h1>Takk for at du tok trappa opp!</h1>
			<div class="slides_container">
				<div id="slide1" class="slide">			
					<div id="visualization_personer" class="visualization"></div>
				</div>
				<div id="slide2" class="slide">
					<div id="visualization_kalorier" class="visualization"></div>
				</div>
				<div id="slide3" class="slide">
					<div id="visualization_kalorier_personer" class="visualization"></div>
				</div>
			</div>

		</div>
		<div id="bottom">
			<div id="b_left">
				<img src="img/logo.png" alt="GoGreen logo"  /> <!-- We could probably edit this URL in JS ;) -->
				
			</div>
			<div id="b_right">
				<img src="http://qrcode.kaywa.com/img.php?s=5&d=http%3A%2F%2Fwww.uio.no" alt="qrcode"  />
				<p>http://www.uio.no/</p>
			</div>
		</div>
	</div>
</div>

<div id="right">

	<div id="ct_title">
		<p>Tatt trappen opp:</p>
	</div>

	<div id="ct_dag" class="counter">
		<h3 id="counter_day">1000</h3>
		<p>I dag</p>
	</div>
	
	<div id="ct_uke" class="counter">
		<h3 id="counter_month">1000</h3>
		<p>Denne uken</p>
	</div>
	
	<div id="ct_mnd" class="counter">
		<h3 id="counter_total">1000</h3>
		<p>Totalt</p>
	</div>
	
</div>

</body>
</html>
